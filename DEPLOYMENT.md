# Deployment Guide

This repository uses GitHub Actions to automatically build and deploy your Hugo site to GitHub Pages.

## Initial Setup

### If you had git repository in `public/` folder:

Since you previously had the git repository set up in the `public/` folder, you need to:

1. **Remove the git repository from `public/` folder:**
   ```bash
   # Remove the .git directory from public/ folder
   rm -rf public/.git
   ```
   
   The `public/` folder should NOT be a git repository - it's just build output that will be generated by GitHub Actions.

2. **The remote is now configured in the root `ds_blog` folder** (already done ✅)

## Migration from Static Files

If your repository currently has built files in the root (like `index.html`, `404.html`, etc.), follow these steps:

### Step 1: Backup Current Built Files (Optional)
```bash
# Create a backup branch with current built files
git checkout -b backup-built-files
git add .
git commit -m "Backup: Built files before migration"
git push origin backup-built-files
```

### Step 2: Remove Built Files from Master Branch
```bash
# Switch back to master
git checkout master

# Remove all built files (keep only source files)
# The public/ directory should be in .gitignore, so it won't be tracked
# Remove any HTML files, assets, etc. that are built outputs
git rm -r assets/ categories/ page/ posts/ tags/ 2>/dev/null || true
git rm index.html index.json index.xml sitemap.xml 404.html .nojekyll 2>/dev/null || true
```

### Step 3: Push Source Files
```bash
# Add your source files (content/, themes/, hugo.toml, etc.)
git add .
git commit -m "Migrate to Hugo source files with CI/CD"
git push origin master
```

### Step 4: Configure GitHub Pages

1. Go to your repository: https://github.com/Rapternmn/Rapternmn.github.io
2. Navigate to **Settings** → **Pages**
3. Under **Source**, select **GitHub Actions** (not "Deploy from a branch")
4. Save the settings

### Step 5: Verify Deployment

1. Go to the **Actions** tab in your repository
2. You should see the workflow running
3. Once complete, your site will be available at https://rapternmn.github.io/

## How It Works

- **Source files** (content/, themes/, hugo.toml, etc.) are stored in the repository
- **GitHub Actions** automatically builds the site when you push to `master`
- **Built files** are deployed to GitHub Pages automatically (not stored in the repo)
- The `public/` directory is ignored by git (see `.gitignore`)

## Manual Deployment

You can also trigger the workflow manually:
1. Go to **Actions** tab
2. Select **Deploy Hugo site to Pages**
3. Click **Run workflow**

## Troubleshooting

- If deployment fails, check the **Actions** tab for error messages
- Ensure the theme submodule is properly initialized
- Verify `hugo.toml` has the correct `baseURL`

